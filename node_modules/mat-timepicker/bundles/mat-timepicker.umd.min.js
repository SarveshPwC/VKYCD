!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/forms"),require("@angular/core"),require("@angular/material/dialog"),require("@angular/material/form-field"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/a11y"),require("@angular/cdk/coercion"),require("@angular/material/core"),require("@angular/cdk/platform"),require("@angular/material/button"),require("@angular/material/toolbar"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/common")):"function"==typeof define&&define.amd?define("mat-timepicker",["exports","@angular/forms","@angular/core","@angular/material/dialog","@angular/material/form-field","rxjs","rxjs/operators","@angular/cdk/a11y","@angular/cdk/coercion","@angular/material/core","@angular/cdk/platform","@angular/material/button","@angular/material/toolbar","@angular/material/icon","@angular/material/input","@angular/common"],t):t((e=e||self)["mat-timepicker"]={},e.ng.forms,e.ng.core,e.ng.material.dialog,e.ng.material.formField,e.rxjs,e.rxjs.operators,e.ng.cdk.a11y,e.ng.cdk.coercion,e.ng.material.core,e.ng.cdk.platform,e.ng.material.button,e.ng.material.toolbar,e.ng.material.icon,e.ng.material.input,e.ng.common)}(this,(function(e,t,i,n,o,a,s,r,l,u,h,d,c,p,m,f){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function g(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s}function v(e,t){return function(i,n){t(i,n,e)}}function y(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,o,a=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}return s}function b(e){return e<10?"0"+e:""+e}function M(e,t){var i=e>=12;return"24h"===t?{hour:e,isPm:i}:0===e||12===e?{hour:12,isPm:i}:e<12?{hour:e,isPm:i}:{hour:e-12,isPm:i}}function w(e,t,i){var n=+i;return(!e||+e<=n)&&(!t||n<=+t)}function x(e,t,i,n,o,a){if(e>24||e<0||t>60||t<0)return!1;if(!i&&!n)return!0;"12h"===o&&(12===e&&"AM"===a&&(e=0),e>12&&(e-=12));var s=new Date;return s.setHours(e),s.setMinutes(t),s.setSeconds(0),s.setMilliseconds(0),w(i,n,s)}var D=function(){function e(e){this.data=e,this.twoDigits=b,this.changeEvent=new i.EventEmitter,this.okClickEvent=new i.EventEmitter,this.cancelClickEvent=new i.EventEmitter,this.allowed24HourMap=null,this.allowed12HourMap=null,this.invalidSelection=!1,this.viewType="hours",this.isPm=!1,this.skipMinuteAutoSwitch=!1,this.autoSwitchID=null,this.invalidMedianID=null,this.hasInvalidMeridiem=!1,this.editHoursClicked=!1,this.isClosing=!1,this.isPm=e.isPm,this.bindData(e),this.value=e.value}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e=e||this.minDate||this.maxDate||new Date,this.hours=e.getHours(),this.minutes=e.getMinutes(),this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hours",{get:function(){return this._hours},set:function(e){this._hours=e,this._formattedHour=M(this.hours,this.mode).hour},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedHours",{get:function(){return this._formattedHour},enumerable:!0,configurable:!0}),e.prototype.bindData=function(e){this.mode=e.mode,this.okLabel=e.okLabel,this.cancelLabel=e.cancelLabel,this.color=e.color,this.minDate=e.minDate,this.maxDate=e.maxDate,this.allowed12HourMap=e.allowed12HourMap,this.allowed24HourMap=e.allowed24HourMap},e.prototype.ngDoCheck=function(){this.bindData(this.data)},e.prototype.handleClockChange=function(e){var t=e.value,i=e.type,n="24h"===this.mode&&"hours"===i&&(this.hours>=12&&t<12||this.hours<12&&t>=12);(this.hasInvalidMeridiem&&"12h"===this.mode||n)&&(this.isPm=!this.isPm,this.hasInvalidMeridiem=!1),i&&"hours"===i||!i&&"hours"===this.viewType?this.hours=t:(i&&"minutes"===i||!i&&"minutes"===this.viewType)&&(this.minutes=t);var o=new Date,a=this.isPm?this.hours<12?this.hours+12:this.hours:12===this.hours?0:this.hours;o.setHours(a),o.setMinutes(this.minutes),o.setSeconds(0),o.setMilliseconds(0),this.value=o,this.changeEvent.emit(o)},e.prototype.clearInvalidMeridiem=function(){this.hasInvalidMeridiem=!1},e.prototype.handleUnavailableSelection=function(){clearTimeout(this.autoSwitchID)},e.prototype.handleClockChangeDone=function(e){var t=this;e.preventDefault(),"hours"!==this.viewType||this.skipMinuteAutoSwitch||(this.autoSwitchID=setTimeout((function(){t.editMinutes(),t.autoSwitchID=null}),300))},e.prototype.editHours=function(){var e=this;this.viewType="hours",this.editHoursClicked=!0,setTimeout((function(){e.editHoursClicked=!1}),0)},e.prototype.editMinutes=function(){this.hasInvalidMeridiem&&(this.isPm=!this.isPm,this.hasInvalidMeridiem=!1),this.viewType="minutes"},e.prototype.invalidSelectionHandler=function(e){this.invalidSelection=e},e.prototype.invalidMeridiem=function(){var e=this;if("minutes"!==this.viewType&&this.editHoursClicked){if(this.invalidMedianID)return;this.invalidMedianID=setTimeout((function(){e.isPm=!e.isPm,e.hasInvalidMeridiem=!1}),0)}else this.hasInvalidMeridiem=!0},e.prototype.meridiemChange=function(e){var t={type:this.viewType,value:"hours"===this.viewType?e:this.value.getMinutes()};this.handleClockChange(t)},e.prototype.setAm=function(){this.hours>=12&&(this.hours=this.hours-12),this.isPm=!1,this.meridiemChange(this.hours)},e.prototype.setPm=function(){this.hours<12&&(this.hours=this.hours+12),this.isPm=!0,this.meridiemChange(this.hours)},e.prototype.okClickHandler=function(){this.hasInvalidMeridiem&&(this.isPm=!this.isPm,this.hasInvalidMeridiem=!1),this.okClickEvent.emit()},e.prototype.cancelClickHandler=function(){this.cancelClickEvent.emit()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[n.MAT_DIALOG_DATA]}]}]},g([i.Output()],e.prototype,"changeEvent",void 0),g([i.Output()],e.prototype,"okClickEvent",void 0),g([i.Output()],e.prototype,"cancelClickEvent",void 0),e=g([i.Component({selector:"mat-timepicker-dialog",template:'<mat-dialog-content>\n  <div class="root">\n    <mat-toolbar [color]="color" class="header">\n      <div class="placeholder"></div>\n      <div class="time-frame">\n        <span class="time fixed-font-size" [ngClass]="{\'select\': this.viewType === \'hours\' && \'active\' }"\n          (click)="editHours()">\n          {{ twoDigits(formattedHours) }}\n        </span>\n        <span class="fixed-font-size">:</span>\n        <span class="time fixed-font-size" [ngClass]="{ \'select\': this.viewType === \'minutes\' && \'active\' }"\n          (click)="editMinutes()">\n          {{ twoDigits(minutes) }}\n        </span>\n      </div>\n      <ng-container *ngIf="mode === \'12h\' then ampm else normal"></ng-container>\n      <ng-template #normal>\n        <div class="placeholder"></div>\n      </ng-template>\n      <ng-template #ampm>\n        <div class="ampm">\n          <span class="time" [ngClass]="{ \'select\': isPm }" (click)="setPm()">PM</span>\n          <span class="time" [ngClass]="{ \'select\': !isPm }" (click)="setAm()">AM</span>\n        </div>\n      </ng-template>\n    </mat-toolbar>\n    <div class="body">\n      <mat-clock [allowed12HourMap]="allowed12HourMap" [allowed24HourMap]="allowed24HourMap" [minDate]="minDate"\n        [maxDate]="maxDate" [color]="color" [viewType]="viewType" [mode]="mode" [formattedHours]="formattedHours"\n        [minutes]="minutes" (changeEvent)="handleClockChange($event)"\n        (unavailableSelection)="handleUnavailableSelection()"\n        [formattedValue]="viewType === \'minutes\' ? minutes : formattedHours" [isPm]="isPm"\n        (invalidMeridiem)="invalidMeridiem()" (mouseup)="handleClockChangeDone($event)"\n        (clearInvalidMeridiem)="clearInvalidMeridiem()" (touchend)="handleClockChangeDone($event)"\n        (invalidSelection)="invalidSelectionHandler($event)"></mat-clock>\n    </div>\n  </div>\n</mat-dialog-content>\n<mat-dialog-actions>\n  <button mat-button i18n="mat-timepicker|Material Timepicker Cancel Button Text" [color]="color"\n    (click)="cancelClickHandler()">{{cancelLabel}}</button>\n  <button mat-button i18n="mat-timepicker|Material Timepicker Ok Button Text" [disabled]="invalidSelection"\n    [color]="color" (click)="okClickHandler()">{{okLabel}}</button>\n</mat-dialog-actions>',styles:["mat-dialog-content{min-height:395px;padding:0;margin-top:-24px;overflow:hidden}mat-dialog-actions{justify-content:flex-end;margin-right:-8px;margin-left:-8px}.root{min-width:282px}.header{border-top-left-radius:2px;border-top-right-radius:2px;padding:20px 0;line-height:58px;font-size:58px;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;height:98px}.header .fixed-font-size{font-size:58px}.header .time-frame{height:60px}.time{transition:.2s ease-out;cursor:pointer}.time:not(.select){opacity:.6}.placeholder{flex:1}.ampm{display:flex;flex-direction:column-reverse;flex:1;font-size:14px;line-height:20px;margin-left:16px;font-weight:700px}.select{color:#fff}.body{padding:24px 16px 20px;display:flex;justify-content:center}"]}),v(0,i.Inject(n.MAT_DIALOG_DATA))],e)}(),C=function(){function e(e,t,n,o,s,r,l,u,h,c,p,m){var f=this;this.ngControl=e,this.dialog=t,this.renderer=n,this.zone=o,this.fm=s,this.elRef=r,this.ngZone=l,this._platform=u,this._parentForm=h,this._matFormFiled=c,this._parentFormGroup=p,this._errorState=!1,this._disabled=!1,this._readonly=!1,this.isAlive=new a.Subject,this.stateChanges=new a.Subject,this._uid="mat-input-"+d.nextId++,this.describedBy="",this._required=!1,this.focused=!1,this.allowed24HourMap=null,this.allowed12HourMap=null,this.isInputFocused=!1,this.okLabel="Ok",this.cancelLabel="Cancel",this.mode="24h",this.color="primary",this.disableDialogOpenOnClick=!1,this.strict=!0,this.controlType="angular-material-timepicker",this.listeners=[],this._skipValueChangeEmission=!0,this.combination=[],this.timeChange=new i.EventEmitter,this.invalidInput=new i.EventEmitter,this.clickHandler=function(e){f.modalRef&&f.modalRef.componentInstance.isClosing||f.disabled||f.disableDialogOpenOnClick||f.modalRef||f.disableDialogOpenOnClick||f.showDialog()},this.handleChange=function(e){if(e instanceof Date){var t=f.value instanceof Date?new Date(f.value.getTime()):new Date;t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),t.setSeconds(0),t.setMilliseconds(0),f.currentValue=t}},this.handleOk=function(){f.onChangeFn&&f.onChangeFn(f.currentValue),f.value=f.currentValue,f.modalRef.close()},this.handleCancel=function(){f.modalRef.close()},this.id=this.id,this.errorStateMatcher=m,null!=this.ngControl&&(this.ngControl.valueAccessor=this),u.IOS&&l.runOutsideAngular((function(){r.nativeElement.addEventListener("keyup",(function(e){var t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))}))})),this._isServer=!this._platform.isBrowser}var d;return d=e,Object.defineProperty(e.prototype,"errorState",{get:function(){var e=this._errorState,t=this._parentFormGroup||this._parentForm,i=this.ngControl?this.ngControl.control:null,n=this.errorStateMatcher?this.errorStateMatcher.isErrorState(i,t):e;return n!==e&&(this._errorState=n,this.stateChanges.next()),n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=l.coerceBooleanProperty(e),this.focused&&(this.focused=!1,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this._readonly},set:function(e){this._readonly=l.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){return this.focused||!this.empty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(e){this._required=l.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){if(e!==this._value){if(this._value=e,!e)return this._formattedValueString=null,this.setInputElementValue(e),void(this.currentValue=e);var t=M(e.getHours(),this.mode),i=t.hour,n=t.isPm;this._isPm=n,this._formattedValueString="12h"===this.mode?i+":"+b(e.getMinutes())+" "+(n?"pm":"am"):b(e.getHours())+":"+b(e.getMinutes()),this.isInputFocused||this.setInputElementValue(this.formattedValueString),this.currentValue=e,this.stateChanges.next(),this._skipValueChangeEmission||this.timeChange.emit(this.currentValue)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPm",{get:function(){return this._isPm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!(this.currentValue instanceof Date)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedValueString",{get:function(){return this._formattedValueString},enumerable:!0,configurable:!0}),e.prototype.inputHandler=function(){var e,t=this.elRef.nativeElement.value,i=t.length;if(0===i)return this.writeValue(null,!0),void(this.onChangeFn&&this.onChangeFn(null));var n=t.match(/am|pm/i),o=null;n&&(t=t.replace(n[0],""),o=y(n,1)[0]);var a=t.includes(":"),s=y(1===i?[t,0]:2!==i||a?a?t.split(":"):t.split(/(\d\d)/).filter((function(e){return e})):[t,0],2),r=s[0],l=s[1];if(r=+r,/\s/.test(l)){e=y(l.split(/\s/),2),l=e[0],"pm"===e[1]&&!isNaN(r)&&r<12&&(r+=12)}if(l=+l,isNaN(r)||isNaN(l))this.writeValue(null,!0);else{r<12&&o&&"pm"===o.toLowerCase()?r+=12:r>12&&o&&"am"===o.toLowerCase()&&(r-=12),"12h"===this.mode&&+r<1?r="1":+r>24?r="24":+r<0&&(r="0"),+l>59?l="59":+l<0&&(l="0");var u=this.value?new Date(this.value.getTime()):new Date;u.setHours(+r),u.setMinutes(+l),u.setSeconds(0),u.setMilliseconds(0),w(this.minDate,this.maxDate,u)||this.invalidInput.emit(),this.writeValue(u,!0),this.onChangeFn&&this.onChangeFn(u)}},e.prototype.keydownHandler=function(e){if(e.metaKey||e.ctrlKey||e.altKey)this.combination=this.combination.concat(e.code);else if(/^[0-9a-zA-Z\s]{0,1}$/.test(e.key)){var t=e.target,i=t.value;if((""+i.slice(0,t.selectionStart)+e.key+i.slice(t.selectionEnd)).match(this.pattern)||this.combination.length>0)return!0;e.preventDefault(),e.stopImmediatePropagation()}},e.prototype.keyupHandler=function(e){this.combination=this.combination.filter((function(t){return t!==e.code}))},e.prototype.focusHandler=function(){this.isInputFocused=!0},e.prototype.focusoutHandler=function(){this.isInputFocused=!1,this.setInputElementValue(this.formattedValueString),this.onTouchedFn&&!this.modalRef&&this.onTouchedFn()},e.prototype.setDescribedByIds=function(e){this.describedBy=e.join(" ")},e.prototype.onContainerClick=function(e){"input"!==e.target.tagName.toLowerCase()&&this.elRef.nativeElement.focus()},e.prototype.setInputElementValue=function(e){var t=this;Promise.resolve().then((function(){t.zone.runOutsideAngular((function(){t.renderer.setProperty(t.elRef.nativeElement,"value",e)}))}))},e.prototype.validate=function(){return(this.strict?w(this.minDate,this.maxDate,this.currentValue):function(e,t,i){if(e instanceof Date){var n=new Date;n.setHours(e.getHours()),n.setMinutes(e.getMinutes()),n.setSeconds(0),n.setMilliseconds(0),e=n}if(t instanceof Date){var o=new Date;o.setHours(t.getHours()),o.setMinutes(t.getMinutes()),o.setSeconds(0),o.setMilliseconds(0),t=o}if(i instanceof Date){var a=new Date;a.setHours(i.getHours()),a.setMinutes(i.getMinutes()),a.setSeconds(0),a.setMilliseconds(0),i=a}var s=+i;return(!e||+e<=s)&&(!t||s<=+t)}(this.minDate,this.maxDate,this.currentValue))?null:{dateRange:!0}},e.prototype.ngAfterViewInit=function(){this.listeners.push(this.renderer.listen(this._matFormFiled?this._matFormFiled._elementRef.nativeElement:this.elRef.nativeElement,"click",this.clickHandler))},e.prototype.ngOnInit=function(){var e=this;if(this._platform.isBrowser&&this.fm.monitor(this.elRef.nativeElement,!0).subscribe((function(t){e.focused=!!t,e.stateChanges.next()})),!this.value){var t=!!this.maxDate,i=!!this.minDate;(i||t)&&(i&&(this.minDate.setSeconds(0),this.minDate.setMilliseconds(0)),t&&(this.maxDate.setSeconds(0),this.maxDate.setMilliseconds(0)),Promise.resolve().then((function(){return e.generateAllowedMap()})),this.ngControl._rawValidators.find((function(t){return t===e}))||this.ngControl._rawValidators.push(this))}this._skipValueChangeEmission=!1},e.prototype.generateAllowedMap=function(){var e=this.strict&&this.value instanceof Date;if("24h"===this.mode){this.allowed24HourMap={};for(var t=0;t<24;t++)for(var i=0;i<60;i++){var n=this.allowed24HourMap[t]||{};if(e)(a=new Date(this.value.getTime())).setHours(t),a.setMinutes(i),a.setSeconds(0),a.setMilliseconds(0),n[i]=w(this.minDate,this.maxDate,a);else n[i]=x(t,i,this.minDate,this.maxDate,"24h");this.allowed24HourMap[t]=n}}else{this.allowed12HourMap={am:{},pm:{}};for(t=0;t<24;t++){var o=t<12?"am":"pm";for(i=0;i<60;i++){var a,s=t>12?t-12:0===t?12:t;n=this.allowed12HourMap[o][s]||{};if(e)(a=new Date(this.value.getTime())).setHours(t),a.setMinutes(i),a.setSeconds(0),a.setMilliseconds(0),n[i]=w(this.minDate,this.maxDate,a);else n[i]=x(t,i,this.minDate,this.maxDate,"24h");this.allowed12HourMap[o][s]=n}}}},e.prototype.ngOnChanges=function(e){this.pattern="24h"===this.mode?/^[0-9]{1,2}:?([0-9]{1,2})?$/:/^[0-9]{1,2}:?([0-9]{1,2})?\s?(a|p)?m?$/,(e.minDate&&!e.minDate.isFirstChange&&+e.minDate.currentValue!==e.minDate.previousValue||e.maxDate&&!e.maxDate.isFirstChange&&+e.maxDate.currentValue!==e.maxDate.previousValue||e.disableLimitBase&&!e.disableLimitBase.isFirstChange&&+e.disableLimitBase.currentValue!==e.disableLimitBase.previousValue)&&this.generateAllowedMap(),this.modalRef&&this.modalRef.componentInstance&&(this.modalRef.componentInstance.data={mode:this.mode,value:this.currentValue,okLabel:this.okLabel,cancelLabel:this.cancelLabel,color:this.color,isPm:this.isPm,minDate:this.minDate,maxDate:this.maxDate,allowed12HourMap:this.allowed12HourMap,allowed24HourMap:this.allowed24HourMap})},e.prototype.checkValidity=function(e){if(!e)return!1;var t=e.getHours(),i=e.getMinutes(),n=this.isPm?"PM":"AM";return x(t,i,this.minDate,this.maxDate,this.mode,n)},e.prototype.writeValue=function(e,t){var i=this;void 0===t&&(t=!1),t||(this._skipValueChangeEmission=!0,Promise.resolve().then((function(){return i._skipValueChangeEmission=!1}))),e&&(e.setSeconds(0),e.setMilliseconds(0)),+this.value!=+e&&(this.value=e)},e.prototype.registerOnChange=function(e){this.onChangeFn=e},e.prototype.registerOnTouched=function(e){this.onTouchedFn=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.showDialog=function(){var e=this;if(!this.disabled){this.isInputFocused=!1,this.modalRef=this.dialog.open(D,{autoFocus:!1,data:{mode:this.mode,value:this.currentValue,okLabel:this.okLabel,cancelLabel:this.cancelLabel,color:this.color,isPm:this.isPm,minDate:this.minDate,maxDate:this.maxDate,allowed12HourMap:this.allowed12HourMap,allowed24HourMap:this.allowed24HourMap}});var t=this.modalRef.componentInstance;t.changeEvent.pipe(s.takeUntil(this.isAlive)).subscribe(this.handleChange),t.okClickEvent.pipe(s.takeUntil(this.isAlive)).subscribe(this.handleOk),t.cancelClickEvent.pipe(s.takeUntil(this.isAlive)).subscribe(this.handleCancel),this.modalRef.beforeClosed().pipe(s.first()).subscribe((function(){return t.isClosing=!0})),this.modalRef.afterClosed().pipe(s.first()).subscribe((function(){e.onTouchedFn&&e.onTouchedFn(),e.modalRef=null,e.elRef.nativeElement.focus()})),this.currentValue=this.value}},e.prototype.ngOnDestroy=function(){this.isAlive.next(),this.isAlive.complete(),this.stateChanges.complete(),this._platform.isBrowser&&this.fm.stopMonitoring(this.elRef.nativeElement),this.listeners.forEach((function(e){return e()}))},e.nextId=0,e.ctorParameters=function(){return[{type:t.NgControl,decorators:[{type:i.Optional},{type:i.Self}]},{type:n.MatDialog},{type:i.Renderer2},{type:i.NgZone},{type:r.FocusMonitor},{type:i.ElementRef},{type:i.NgZone},{type:h.Platform},{type:t.NgForm,decorators:[{type:i.Optional}]},{type:o.MatFormField,decorators:[{type:i.Optional}]},{type:t.FormGroupDirective,decorators:[{type:i.Optional}]},{type:u.ErrorStateMatcher}]},g([i.Input()],e.prototype,"disabled",null),g([i.Input()],e.prototype,"id",null),g([i.Input()],e.prototype,"readonly",null),g([i.HostBinding("class.floating")],e.prototype,"shouldLabelFloat",null),g([i.HostBinding("attr.aria-describedby")],e.prototype,"describedBy",void 0),g([i.Input()],e.prototype,"errorStateMatcher",void 0),g([i.Input()],e.prototype,"required",null),g([i.Input()],e.prototype,"placeholder",null),g([i.Input()],e.prototype,"okLabel",void 0),g([i.Input()],e.prototype,"cancelLabel",void 0),g([i.Input()],e.prototype,"mode",void 0),g([i.Input()],e.prototype,"color",void 0),g([i.Input()],e.prototype,"disableDialogOpenOnClick",void 0),g([i.Input()],e.prototype,"strict",void 0),g([i.Input()],e.prototype,"minDate",void 0),g([i.Input()],e.prototype,"maxDate",void 0),g([i.Input()],e.prototype,"value",null),g([i.Output()],e.prototype,"timeChange",void 0),g([i.Output()],e.prototype,"invalidInput",void 0),g([i.HostListener("input")],e.prototype,"inputHandler",null),g([i.HostListener("keydown",["$event"])],e.prototype,"keydownHandler",null),g([i.HostListener("keyup",["$event"])],e.prototype,"keyupHandler",null),g([i.HostListener("focus")],e.prototype,"focusHandler",null),g([i.HostListener("focusout")],e.prototype,"focusoutHandler",null),e=d=g([i.Directive({selector:"input[matTimepicker]",providers:[{provide:o.MatFormFieldControl,useExisting:d}],host:{class:"mat-input-element mat-form-field-autofill-control","[class.mat-input-server]":"_isServer","[attr.id]":"id","[attr.placeholder]":"placeholder","[disabled]":"disabled","[required]":"required","[attr.readonly]":"readonly || null","[attr.aria-invalid]":"errorState","[attr.aria-required]":"required.toString()"},exportAs:"matTimepicker"}),v(0,i.Optional()),v(0,i.Self()),v(8,i.Optional()),v(9,i.Optional()),v(10,i.Optional())],e)}(),k=function(){function e(){var e=this;this.color="primary",this.changeEvent=new i.EventEmitter,this.unavailableSelection=new i.EventEmitter,this.invalidMeridiem=new i.EventEmitter,this.invalidSelection=new i.EventEmitter,this.clearInvalidMeridiem=new i.EventEmitter,this.allowed12HourMap=null,this.allowed24HourMap=null,this.isFormattedValueAllowed=!0,this.meridiem=null,this.touching=!1,this.numbers=[],this.secondaryNumbers=[],this.minuteDots=[],this.invalidMeridiemEmitted=!0,this.handleTouchMove=function(t){t.preventDefault();var i=t.target.getBoundingClientRect();e.movePointer(t.changedTouches[0].clientX-i.left,t.changedTouches[0].clientY-i.top)}}return e.prototype.initIsAllowedFn=function(){var e,t,i;(this.allowed12HourMap||this.allowed24HourMap)&&(this.isAvailableFn=(e=this.allowed12HourMap,t=this.allowed24HourMap,i=this.mode,function(n,o,a,s){var r="hours"===o,l=y(r?[n,null]:[s,n],2),u=l[0],h=l[1];if("12h"===i){if(!e)return!0;var d=a?"pm":"am";return r?!!Object.values(e[d][u]).find((function(e){return!0===e})):e[d][u][h]}return!t||(r?!!Object.values(t[u]).find((function(e){return!0===e})):t[u][h])}))},e.prototype.isAvailable=function(e){return!this.isAvailableFn||this.isAvailableFn(e,this.viewType,this.isPm,this.formattedHours)},e.prototype.ngOnChanges=function(e){var t=this;(e.allowed12HourMap||e.allowed24HourMap||e.mode&&!e.mode.firstChange)&&this.initIsAllowedFn(),this.calculateAngule(),this.setNumbers(),this.meridiem=this.isPm?"PM":"AM",e.formattedValue&&(this.allowed12HourMap||this.allowed24HourMap)&&(this.isFormattedValueAllowed=this.isAvailable(this.formattedValue));var i=!this.isAvailableFn||this.isAvailableFn(this.formattedValue,"minutes",this.isPm,this.formattedHours);"24h"===this.mode&&"minutes"===this.viewType&&this.isAvailableFn&&(this.isAvailableFn(this.minutes,"minutes",this.isPm,this.formattedHours)||(this.minDate&&this.minDate.getMinutes()>this.minutes?setTimeout((function(){t.changeEvent.emit({value:t.minDate.getMinutes(),type:"minutes"})})):setTimeout((function(){t.changeEvent.emit({value:t.maxDate.getMinutes(),type:"minutes"})}))));i&&this.invalidMeridiemEmitted&&(this.clearInvalidMeridiem.emit(),this.invalidMeridiemEmitted=!1),this.invalidSelection.emit(!i)},e.prototype.calculateAngule=function(){this.angle=this.getPointerAngle(this.formattedValue,this.viewType)},e.prototype.setNumbers=function(){var e=this;if("hours"===this.viewType){if("12h"===this.mode){var t=this.isPm?"pm":"am",i=this.allowed12HourMap?function(i){return e.allowed12HourMap[t][i+1][0]}:void 0;this.numbers=this.getNumbers(12,{size:256},i),this.secondaryNumbers=[],this.minuteDots=[]}else if("24h"===this.mode){i=this.allowed24HourMap?function(t){return e.allowed24HourMap[t][0]}:void 0;this.numbers=this.getNumbers(12,{size:256},i),this.secondaryNumbers=this.getNumbers(12,{size:192,start:13},i),this.minuteDots=[]}}else{var n=this.isPm?"pm":"am",o=this.allowed12HourMap?function(t){return e.allowed12HourMap[n][e.formattedHours][t]}:this.allowed24HourMap?function(t){return e.allowed24HourMap[e.formattedHours][t]}:void 0;this.numbers=this.getNumbers(12,{size:256,start:5,step:5},o),this.minuteDots=this.getNumbers(60,{size:256,start:13}).map((function(e){return e.display<=59?(e.allowed=!o||o(e.display),e):(e.display=e.display-60,e.allowed=!o||o(e.display),e)})),this.secondaryNumbers=[]}},e.prototype.disableAnimatedPointer=function(){this.touching=!0},e.prototype.enableAnimatedPointer=function(){this.touching=!1},e.prototype.handleTouchEnd=function(e){this.handleTouchMove(e),this.enableAnimatedPointer()},e.prototype.handleMouseMove=function(e){if(1===e.buttons||1===e.which){var t=e.target.getBoundingClientRect();this.movePointer(e.clientX-t.left,e.clientY-t.top)}},e.prototype.handleClick=function(e){var t=e.target.getBoundingClientRect();this.movePointer(e.clientX-t.left,e.clientY-t.top)},e.prototype.movePointer=function(e,t){var i=this.getPointerValue(e,t,256);this.isAvailable(i)?i!==this.formattedValue&&(this.changeEvent.emit({value:i,type:"minutes"!==this.viewType?"hours":"minutes"}),"minutes"!==this.viewType&&(this.isAvailable(i)||(this.minDate&&this.isAvailable(i)?this.changeEvent.emit({value:this.minDate.getMinutes(),type:"minutes"}):this.maxDate&&this.isAvailable(i)&&this.changeEvent.emit({value:this.maxDate.getMinutes(),type:"minutes"})))):this.unavailableSelection.emit()},e.prototype.getNumbers=function(e,t,i){var n=t.size,o=t.start,a=void 0===o?1:o,s=t.step,r=void 0===s?1:s;return Array.apply(null,Array(e)).map((function(t,o){return{display:o*r+a,translateX:(n/2-20)*Math.cos(2*Math.PI*(o-2)/e),translateY:(n/2-20)*Math.sin(2*Math.PI*(o-2)/e),allowed:!i||i(o)}}))},e.prototype.getPointerAngle=function(e,t){return"hours"===this.viewType?"12h"===this.mode?30*(e-3):30*(e%12-3):6*(e-15)},e.prototype.getPointerValue=function(e,t,i){var n,o=Math.atan2(i/2-e,i/2-t)/Math.PI*180;if(o<0&&(o=360+o),"hours"===this.viewType){if("12h"===this.mode)return 0===(n=12-Math.round(12*o/360))?12:n;var a=Math.sqrt(Math.pow(i/2-e,2)+Math.pow(i/2-t,2));return 0===(n=12-Math.round(12*o/360))&&(n=12),a<i/2-32&&(n=12===n?0:n+12),n}return 60===(n=Math.round(60-60*o/360))?0:n},g([i.Input()],e.prototype,"mode",void 0),g([i.Input()],e.prototype,"viewType",void 0),g([i.Input()],e.prototype,"color",void 0),g([i.Input()],e.prototype,"formattedValue",void 0),g([i.Input()],e.prototype,"minDate",void 0),g([i.Input()],e.prototype,"maxDate",void 0),g([i.Input()],e.prototype,"isPm",void 0),g([i.Input()],e.prototype,"formattedHours",void 0),g([i.Input()],e.prototype,"minutes",void 0),g([i.Output()],e.prototype,"changeEvent",void 0),g([i.Output()],e.prototype,"unavailableSelection",void 0),g([i.Output()],e.prototype,"invalidMeridiem",void 0),g([i.Output()],e.prototype,"invalidSelection",void 0),g([i.Output()],e.prototype,"clearInvalidMeridiem",void 0),g([i.Input()],e.prototype,"allowed12HourMap",void 0),g([i.Input()],e.prototype,"allowed24HourMap",void 0),e=g([i.Component({selector:"mat-clock",template:'<div class="root">\n  <div class="circle" (touchmove)="handleTouchMove($event)" (mousemove)="handleMouseMove($event)"\n    (touchstart)="disableAnimatedPointer()" (mousedown)="disableAnimatedPointer()" (touchend)="handleTouchEnd($event)"\n    (mouseup)="enableAnimatedPointer()" (click)="handleClick($event)">\n    <div class="pointer-container"\n      [ngClass]="{ \'small-pointer\': mode === \'24h\' && viewType === \'hours\' && (formattedValue === 0 || formattedValue > 12), \'animated-pointer\': !touching }"\n      [style.transform]="\'rotate(\' + angle + \'deg)\'">\n      <button mat-mini-fab [color]="color" class="inner-dot"></button>\n      <mat-toolbar [color]="color" class="pointer">\n        <button mat-mini-fab [color]="color" class="outer-dot"\n          [ngClass]=" { \'outer-dot-odd\': viewType === \'minutes\' && formattedValue % 5 !== 0 }">\n          <ng-container *ngIf="viewType === \'minutes\' && formattedValue % 5 !== 0">·</ng-container>\n        </button>\n      </mat-toolbar>\n    </div>\n    <ng-container *ngFor="let digit of minuteDots;">\n      <button mat-mini-fab class="number minute-dot"\n        [ngClass]="{ \'selected\': formattedValue === digit.display || (digit.display === 0 && formattedValue === 0), \'disabled\': !isAvailable(digit.display === 60 ? 0 : digit.display)}"\n        [style.transform]="\'translate(\' + digit.translateX + \'px, \' + digit.translateY + \'px)\'">\n        <ng-container *ngIf="digit.display % 5 !== 0">·</ng-container>\n      </button>\n    </ng-container>\n    <ng-container *ngFor="let digit of numbers;">\n      <button mat-mini-fab [color]="color" class="number"\n        [ngClass]="{ \'selected\': formattedValue === digit.display || (digit.display === 60 && formattedValue === 0), \'disabled\': !isAvailable(digit.display === 60 ? 0 : digit.display)}"\n        [style.transform]="\'translate(\' + digit.translateX + \'px, \' + digit.translateY + \'px)\'">\n        <ng-template #hoursTemplate>{{ digit.display }}</ng-template>\n        <ng-template #minutesTemplate>{{ digit.display === 60 ? \'00\' : digit.display }}</ng-template>\n        <ng-container *ngIf="viewType === \'minutes\' then minutesTemplate else hoursTemplate;"></ng-container>\n      </button>\n\n    </ng-container>\n    <ng-container *ngFor="let digit of secondaryNumbers;">\n      <button mat-mini-fab [color]="color" class="number small-number"\n        [ngClass]="{ \'selected\': formattedValue === digit.display || (digit.display === 24 && formattedValue === 0), \'disabled\': !isAvailable(digit.display === 24 ? 0 : digit.display)}"\n        [style.transform]="\'translate(\' + digit.translateX + \'px, \' + digit.translateY + \'px)\'">\n        {{ digit.display === 24 ? \'00\' : digit.display }}\n      </button>\n\n    </ng-container>\n  </div>',changeDetection:i.ChangeDetectionStrategy.OnPush,styles:[".root{width:256px;height:256px;cursor:default}.circle{width:256px;height:256px;border-radius:50%;position:relative;background:#ededed;cursor:pointer}.number{width:32px;height:32px;left:calc(50% - 16px);top:calc(50% - 16px);position:absolute;text-align:center;line-height:32px;cursor:pointer;font-size:14px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:transparent;box-shadow:none}.number.disabled{color:rgba(1,1,1,.1)}.number:not(.selected):not(.disabled){color:rgba(0,0,0,.87)}.number:not(.disabled).minute-dot{color:rgba(1,1,1,.7)}.number:not(.disabled).minute-dot.selected{color:transparent}.small-number{font-size:12px}.small-number:not(.selected):not(.disabled){color:rgba(0,0,0,.67)}.pointer-container{width:calc(50% - 20px);height:2;position:absolute;left:50%;top:calc(50% - 1px);transform-origin:left center;pointer-events:none}.pointer-container.disabled *{background-color:transparent}.pointer{height:1px}.animated-pointer{transition:.2s ease-out}.small-pointer{width:calc(50% - 52px)}.inner-dot{position:absolute;top:-3px;left:-4px;width:8px;height:8px;border-radius:50%;box-shadow:none}.outer-dot{width:32px;height:32px;position:absolute;right:-16px;box-shadow:none;border-radius:50%;box-sizing:content-box}.outer-dot-odd{box-shadow:none;width:32px;height:32px;display:flex;align-items:center;justify-content:center;flex-direction:column}"]})],e)}(),H=function(){function e(){}return e=g([i.NgModule({declarations:[k,C,D],imports:[f.CommonModule,n.MatDialogModule,d.MatButtonModule,c.MatToolbarModule,p.MatIconModule,m.MatInputModule],exports:[C],entryComponents:[D]})],e)}();e.MatTimepickerDirective=C,e.MatTimepickerModule=H,e.ɵa=k,e.ɵb=D,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=mat-timepicker.umd.min.js.map