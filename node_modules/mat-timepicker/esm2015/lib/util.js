export function twoDigits(n) {
    return n < 10 ? `0${n}` : `${n}`;
}
export function addDays(date, days) {
    const result = new Date(date);
    result.setDate(result.getDate() + days);
    return result;
}
export function convertHoursForMode(hour, mode) {
    const isPm = hour >= 12;
    if (mode === '24h') {
        return { hour, isPm };
    }
    else if (hour === 0 || hour === 12) {
        return { hour: 12, isPm };
    }
    else if (hour < 12) {
        return { hour, isPm };
    }
    return { hour: hour - 12, isPm };
}
function mod(a, b) {
    return a - Math.floor(a / b) * b;
}
export function getShortestAngle(from, to) {
    const difference = to - from;
    return from + mod(difference + 180, 360) - 180;
}
export function isDateInRange(minDate, maxDate, current) {
    const unixCurrentDate = +current;
    return (!minDate || +minDate <= unixCurrentDate) && (!maxDate || unixCurrentDate <= +maxDate);
}
export function isTimeInRange(minDate, maxDate, current) {
    if (minDate instanceof Date) {
        const newMinDate = new Date();
        newMinDate.setHours(minDate.getHours());
        newMinDate.setMinutes(minDate.getMinutes());
        newMinDate.setSeconds(0);
        newMinDate.setMilliseconds(0);
        minDate = newMinDate;
    }
    if (maxDate instanceof Date) {
        const newMaxDate = new Date();
        newMaxDate.setHours(maxDate.getHours());
        newMaxDate.setMinutes(maxDate.getMinutes());
        newMaxDate.setSeconds(0);
        newMaxDate.setMilliseconds(0);
        maxDate = newMaxDate;
    }
    if (current instanceof Date) {
        const newCurrent = new Date();
        newCurrent.setHours(current.getHours());
        newCurrent.setMinutes(current.getMinutes());
        newCurrent.setSeconds(0);
        newCurrent.setMilliseconds(0);
        current = newCurrent;
    }
    const unixCurrentDate = +current;
    return (!minDate || +minDate <= unixCurrentDate) && (!maxDate || unixCurrentDate <= +maxDate);
}
// used when generating the allowed maps
export function isAllowed(hour, minutes, minDate, maxDate, clockMode, selectedMeridiem) {
    if (hour > 24 || hour < 0 || minutes > 60 || minutes < 0) {
        return false;
    }
    if (!minDate && !maxDate) {
        return true;
    }
    if (clockMode === '12h') {
        if (hour === 12 && selectedMeridiem === 'AM') {
            hour = 0;
        }
        if (hour > 12) {
            hour -= 12;
        }
    }
    const checkDate = new Date();
    checkDate.setHours(hour);
    checkDate.setMinutes(minutes);
    checkDate.setSeconds(0);
    checkDate.setMilliseconds(0);
    return isDateInRange(minDate, maxDate, checkDate);
}
// used by the clock component to visually disable the not allowed values
export function getIsAvailabeFn(allowed12HourMap, allowed24HourMap, mode) {
    return (value, viewType, isPm, h) => {
        const isHourCheck = viewType === 'hours';
        const [hour, minutes] = isHourCheck ? [value, null] : [h, value];
        if (mode === '12h') {
            if (!allowed12HourMap) {
                return true;
            }
            const meridiem = isPm ? 'pm' : 'am';
            if (isHourCheck) {
                return !!Object.values(allowed12HourMap[meridiem][hour]).find(v => v === true);
            }
            return allowed12HourMap[meridiem][hour][minutes];
        }
        if (!allowed24HourMap) {
            return true;
        }
        if (isHourCheck) {
            return !!Object.values(allowed24HourMap[hour]).find(v => v === true);
        }
        return allowed24HourMap[hour][minutes];
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL21hdC10aW1lcGlja2VyLyIsInNvdXJjZXMiOlsibGliL3V0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxVQUFVLFNBQVMsQ0FBQyxDQUFDO0lBQ3pCLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztBQUNuQyxDQUFDO0FBRUQsTUFBTSxVQUFVLE9BQU8sQ0FBQyxJQUFVLEVBQUUsSUFBWTtJQUM5QyxNQUFNLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM5QixNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUN4QyxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBRUQsTUFBTSxVQUFVLG1CQUFtQixDQUFDLElBQVksRUFBRSxJQUFlO0lBQy9ELE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7SUFDeEIsSUFBSSxJQUFJLEtBQUssS0FBSyxFQUFFO1FBQ2xCLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7S0FDdkI7U0FBTSxJQUFJLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLEVBQUUsRUFBRTtRQUNwQyxPQUFPLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQztLQUMzQjtTQUFNLElBQUksSUFBSSxHQUFHLEVBQUUsRUFBRTtRQUNwQixPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO0tBQ3ZCO0lBQ0QsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDO0FBQ25DLENBQUM7QUFFRCxTQUFTLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNmLE9BQU8sQ0FB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QUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDcEMsSUFBSSxXQUFXLEVBQUU7Z0JBQ2YsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQzthQUNoRjtZQUNELE9BQU8sZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDbEQ7UUFFRCxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFBRSxPQUFPLElBQUksQ0FBQztTQUFFO1FBRXZDLElBQUksV0FBVyxFQUFFO1lBQ2YsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQztTQUN0RTtRQUNELE9BQU8sZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDekMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElUaW1lRGF0YSwgQ2xvY2tWaWV3VHlwZSwgQ2xvY2tNb2RlIH0gZnJvbSAnLi9pbnRlcmZhY2VzLWFuZC10eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB0d29EaWdpdHMobikge1xuICByZXR1cm4gbiA8IDEwID8gYDAke259YCA6IGAke259YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZERheXMoZGF0ZTogRGF0ZSwgZGF5czogbnVtYmVyKSB7XG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBEYXRlKGRhdGUpO1xuICByZXN1bHQuc2V0RGF0ZShyZXN1bHQuZ2V0RGF0ZSgpICsgZGF5cyk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0SG91cnNGb3JNb2RlKGhvdXI6IG51bWJlciwgbW9kZTogQ2xvY2tNb2RlKSB7XG4gIGNvbnN0IGlzUG0gPSBob3VyID49IDEyO1xuICBpZiAobW9kZSA9PT0gJzI0aCcpIHtcbiAgICByZXR1cm4geyBob3VyLCBpc1BtIH07XG4gIH0gZWxzZSBpZiAoaG91ciA9PT0gMCB8fCBob3VyID09PSAxMikge1xuICAgIHJldHVybiB7IGhvdXI6IDEyLCBpc1BtIH07XG4gIH0gZWxzZSBpZiAoaG91ciA8IDEyKSB7XG4gICAgcmV0dXJuIHsgaG91ciwgaXNQbSB9O1xuICB9XG4gIHJldHVybiB7IGhvdXI6IGhvdXIgLSAxMiwgaXNQbSB9O1xufVxuXG5mdW5jdGlvbiBtb2QoYSwgYikge1xuICByZXR1cm4gYSAtIE1hdGguZmxvb3IoYSAvIGIpICogYjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNob3J0ZXN0QW5nbGUoZnJvbSwgdG8pIHtcbiAgY29uc3QgZGlmZmVyZW5jZSA9IHRvIC0gZnJvbTtcbiAgcmV0dXJuIGZyb20gKyBtb2QoZGlmZmVyZW5jZSArIDE4MCwgMzYwKSAtIDE4MDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZUluUmFuZ2UobWluRGF0ZTogRGF0ZSwgbWF4RGF0ZTogRGF0ZSwgY3VycmVudDogRGF0ZSkge1xuICBjb25zdCB1bml4Q3VycmVudERhdGUgPSArY3VycmVudDtcbiAgcmV0dXJuICghbWluRGF0ZSB8fCArbWluRGF0ZSA8PSB1bml4Q3VycmVudERhdGUpICYmICghbWF4RGF0ZSB8fCB1bml4Q3VycmVudERhdGUgPD0gK21heERhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUaW1lSW5SYW5nZShtaW5EYXRlOiBEYXRlLCBtYXhEYXRlOiBEYXRlLCBjdXJyZW50OiBEYXRlKSB7XG4gIGlmIChtaW5EYXRlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIGNvbnN0IG5ld01pbkRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIG5ld01pbkRhdGUuc2V0SG91cnMobWluRGF0ZS5nZXRIb3VycygpKTtcbiAgICBuZXdNaW5EYXRlLnNldE1pbnV0ZXMobWluRGF0ZS5nZXRNaW51dGVzKCkpO1xuICAgIG5ld01pbkRhdGUuc2V0U2Vjb25kcygwKTtcbiAgICBuZXdNaW5EYXRlLnNldE1pbGxpc2Vjb25kcygwKTtcbiAgICBtaW5EYXRlID0gbmV3TWluRGF0ZTtcbiAgfVxuICBpZiAobWF4RGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICBjb25zdCBuZXdNYXhEYXRlID0gbmV3IERhdGUoKTtcbiAgICBuZXdNYXhEYXRlLnNldEhvdXJzKG1heERhdGUuZ2V0SG91cnMoKSk7XG4gICAgbmV3TWF4RGF0ZS5zZXRNaW51dGVzKG1heERhdGUuZ2V0TWludXRlcygpKTtcbiAgICBuZXdNYXhEYXRlLnNldFNlY29uZHMoMCk7XG4gICAgbmV3TWF4RGF0ZS5zZXRNaWxsaXNlY29uZHMoMCk7XG4gICAgbWF4RGF0ZSA9IG5ld01heERhdGU7XG4gIH1cbiAgaWYgKGN1cnJlbnQgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgY29uc3QgbmV3Q3VycmVudCA9IG5ldyBEYXRlKCk7XG4gICAgbmV3Q3VycmVudC5zZXRIb3VycyhjdXJyZW50LmdldEhvdXJzKCkpO1xuICAgIG5ld0N1cnJlbnQuc2V0TWludXRlcyhjdXJyZW50LmdldE1pbnV0ZXMoKSk7XG4gICAgbmV3Q3VycmVudC5zZXRTZWNvbmRzKDApO1xuICAgIG5ld0N1cnJlbnQuc2V0TWlsbGlzZWNvbmRzKDApO1xuICAgIGN1cnJlbnQgPSBuZXdDdXJyZW50O1xuICB9XG4gIGNvbnN0IHVuaXhDdXJyZW50RGF0ZSA9ICtjdXJyZW50O1xuICByZXR1cm4gKCFtaW5EYXRlIHx8ICttaW5EYXRlIDw9IHVuaXhDdXJyZW50RGF0ZSkgJiYgKCFtYXhEYXRlIHx8IHVuaXhDdXJyZW50RGF0ZSA8PSArbWF4RGF0ZSk7XG59XG5cbi8vIHVzZWQgd2hlbiBnZW5lcmF0aW5nIHRoZSBhbGxvd2VkIG1hcHNcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWxsb3dlZChcbiAgaG91cjogbnVtYmVyLFxuICBtaW51dGVzOiBudW1iZXIsXG4gIG1pbkRhdGU6IERhdGUsXG4gIG1heERhdGU6IERhdGUsXG4gIGNsb2NrTW9kZTogQ2xvY2tNb2RlLFxuICBzZWxlY3RlZE1lcmlkaWVtPzogJ0FNJyB8ICdQTSdcbikge1xuICBpZiAoaG91ciA+IDI0IHx8IGhvdXIgPCAwIHx8IG1pbnV0ZXMgPiA2MCB8fCBtaW51dGVzIDwgMCkgeyByZXR1cm4gZmFsc2U7IH1cblxuICBpZiAoIW1pbkRhdGUgJiYgIW1heERhdGUpIHsgcmV0dXJuIHRydWU7IH1cblxuICBpZiAoY2xvY2tNb2RlID09PSAnMTJoJykge1xuICAgIGlmIChob3VyID09PSAxMiAmJiBzZWxlY3RlZE1lcmlkaWVtID09PSAnQU0nKSB7IGhvdXIgPSAwOyB9XG4gICAgaWYgKGhvdXIgPiAxMikgeyBob3VyIC09IDEyOyB9XG4gIH1cbiAgY29uc3QgY2hlY2tEYXRlID0gbmV3IERhdGUoKTtcblxuICBjaGVja0RhdGUuc2V0SG91cnMoaG91cik7XG4gIGNoZWNrRGF0ZS5zZXRNaW51dGVzKG1pbnV0ZXMpO1xuICBjaGVja0RhdGUuc2V0U2Vjb25kcygwKTtcbiAgY2hlY2tEYXRlLnNldE1pbGxpc2Vjb25kcygwKTtcblxuICByZXR1cm4gaXNEYXRlSW5SYW5nZShtaW5EYXRlLCBtYXhEYXRlLCBjaGVja0RhdGUpO1xufVxuXG4vLyB1c2VkIGJ5IHRoZSBjbG9jayBjb21wb25lbnQgdG8gdmlzdWFsbHkgZGlzYWJsZSB0aGUgbm90IGFsbG93ZWQgdmFsdWVzXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJc0F2YWlsYWJlRm4oYWxsb3dlZDEySG91ck1hcCwgYWxsb3dlZDI0SG91ck1hcCwgbW9kZTogQ2xvY2tNb2RlKSB7XG4gIHJldHVybiAodmFsdWU6IG51bWJlciwgdmlld1R5cGU6IENsb2NrVmlld1R5cGUsIGlzUG06IGJvb2xlYW4sIGg/OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBpc0hvdXJDaGVjayA9IHZpZXdUeXBlID09PSAnaG91cnMnO1xuICAgIGNvbnN0IFtob3VyLCBtaW51dGVzXSA9IGlzSG91ckNoZWNrID8gW3ZhbHVlLCBudWxsXSA6IFtoLCB2YWx1ZV07XG5cbiAgICBpZiAobW9kZSA9PT0gJzEyaCcpIHtcbiAgICAgIGlmICghYWxsb3dlZDEySG91ck1hcCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgY29uc3QgbWVyaWRpZW0gPSBpc1BtID8gJ3BtJyA6ICdhbSc7XG4gICAgICBpZiAoaXNIb3VyQ2hlY2spIHtcbiAgICAgICAgcmV0dXJuICEhT2JqZWN0LnZhbHVlcyhhbGxvd2VkMTJIb3VyTWFwW21lcmlkaWVtXVtob3VyXSkuZmluZCh2ID0+IHYgPT09IHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFsbG93ZWQxMkhvdXJNYXBbbWVyaWRpZW1dW2hvdXJdW21pbnV0ZXNdO1xuICAgIH1cblxuICAgIGlmICghYWxsb3dlZDI0SG91ck1hcCkgeyByZXR1cm4gdHJ1ZTsgfVxuXG4gICAgaWYgKGlzSG91ckNoZWNrKSB7XG4gICAgICByZXR1cm4gISFPYmplY3QudmFsdWVzKGFsbG93ZWQyNEhvdXJNYXBbaG91cl0pLmZpbmQodiA9PiB2ID09PSB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGFsbG93ZWQyNEhvdXJNYXBbaG91cl1bbWludXRlc107XG4gIH07XG59XG4iXX0=